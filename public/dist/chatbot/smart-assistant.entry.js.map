{"file":"smart-assistant.entry.esm.js","mappings":"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","names":[],"sources":["src/config.js","src/components/smart-assistant/smart-assistant.css?tag=smart-assistant&encapsulation=shadow","src/components/smart-assistant/smart-assistant.tsx"],"sourcesContent":["export const Config = {\r\n  responseUrl: 'http://localhost:5000/get_response',\r\n  feedbackUrl:'http://localhost:5000/save_feedback',\r\n  tokenUrl:'http://localhost:5000/get_token',\r\n \r\n  getFileUrl:'http://localhost:5000/open_file',\r\n \r\n  chatSecretKey:'7c7a412d-2057-4fdb-824c-fe4f780a6147',\r\n \r\n  chatBotName:'Simba_UI',\r\n\r\n  headerLogo: 'assets/images/Simba_logo.png',\r\n  headerText: 'Hello !! How Can I help?',\r\n  headerBgColor: '#0087ba',\r\n  userLogo: 'assets/images/user_image.png',\r\n  botLogo: 'assets/images/Simba_logo.png',\r\n  userMsgBgColor: '#F5EDE5',\r\n  botBgColor: '#0087ba',\r\n  innerBoxColor: '#e5ddd5',\r\n  sendBgColor: '#0087ba',\r\n  headerTextColor: '#F2EAEA',\r\n  botTextColor: '#ffffff',\r\n  userMsgColor: '#000',\r\n\r\n  \r\n  feedbackColor: 'black',\r\n\r\n  refinedQueryColor:'black',\r\n  sourceColor: 'black',\r\n\r\n  sendSymbolColor: '#F3DFDF',\r\n\r\n  showSource: true ,\r\n  showRefinedQuery: true,\r\n  showFeedback: true,\r\n  \r\n  \r\n\r\n \r\n \r\n  chatIcon:'far fa-comment',\r\n  chatIconBg: '#0087ba',\r\n  chatIconColor: '#F2EAEA',\r\n  closeIconColor: '#F2EAEA',\r\n  botText: 'Hi, How may I assist you today ?',\r\n \r\n \r\n \r\n \r\n \r\n \r\n\r\n \r\n \r\n\r\n \r\n\r\n \r\n   \r\n \r\n   \r\n};","@import url(\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css\");\n \n@media only screen and (max-width: 400px) {\n\n  .circular-icon {\n    border-radius: 50%;\n    padding: 10px; /* Adjust this value as needed for the desired size */\n    transition: background-color 0.3s ease;\n  }\n \n  .chat-icon{\n    position: fixed;\n    bottom:32vh;\n    right: 2vw;\n    width: 29vw;\n    height: 4%;\n    border-radius: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    font-size: 3vw;\n    padding:1vw;\n    z-index: 999;\n \n  }\n \n   \n  .down-icon{\n    position: fixed;\n    height: 4vh;\n    width: 8vw;\n    background-color: #e80c31;\n    border-radius: 30px;\n    bottom: 31.5vh;\n    color:white;\n    font-size:2vh;\n    right: 5%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    z-index: 999;\n  }\n \n \n  .inner-box {\n    display: flex;\n    flex-direction: column;\n    width: 94vw;\n    /* height:600px; */\n    border: 1px solid #ccc;\n    border-radius: 10px;\n    overflow: hidden;\n    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);\n  \n    /* margin: 20px auto;  */\n  }\n \n  .chatbot-header{\n\n    height:3.5vh;\n \n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 1.4vh;\n    font-weight: bold;\n  }\n \n  .header-content{\n    display: flex;\n    align-items: center;\n  }\n \n  .bot-logo{\n    height: 40px;\n     width: 40px;\n    margin-right: 10px;\n    border-radius: 50% ;\n  }\n \n  .bot-name{\n    margin-left: 40px;\n    text-align: center;\n    font-family: sans-serif;\n    font-size: 18px;\n  }\n  .close-icon{\n    cursor: pointer;\n    font-size: 24px;\n    margin-right: 10px;\n    display: flex;\n  }\n \n  .App {\n    display: flex;\n    flex-direction: column;\n    height: 42vh;\n    padding: 1vw;\n  }\n \n  .chat-container {\n    flex-grow: 1;\n    overflow: auto; /* Enable automatic scrolling */\n    min-height: 0;\n    max-height: calc(100vh - 140px); /* Adjust this value as needed */\n     /* Align messages to the top */\n  }\n \n  .message {\n    display: flex;\n    flex-direction: column;\n    margin: 5px;\n    align-items: baseline;\n \n  }\n \n  .bot-icon{\n    height: 25px;\n    width: 25px;\n    border-radius:50%;\n    object-fit:cover;\n    /* border-radius: 50% ; */\n  }\n \n  .user-message {\n   \n    align-self: flex-end;\n    padding: 8px;\n    border-radius: 10px;\n    margin-bottom: 5px;\n    font-family: sans-serif;\n    font-size: 14px;\n  }\n \n  .bot-message {\n   \n    \n    padding: 8px;\n    border-radius: 10px;\n    margin-bottom: 5px;\n    font-family: sans-serif;\n    font-size: 14px;\n    word-wrap: break-word;\n    max-width: 360px;\n    white-space: pre-line;\n  }\n \n  .feedback-icon{\n    display: flex;\n    gap: 15px;\n  }\n  /* icon.css */\n  .thumbs-up-icon ,.thumbs-down-icon{\n    \n    transform: scale(1.1);\n    transition: transform 0.3s;\n  }\n \n  .default-icon {\n  \n    transform: scale(1);\n  }\n \n  .refined-query {\n    font-style: italic;\n    font-size: 12px;\n    color: #888;\n    align-self: flex-end;\n  }\n \n  .input-container {\n    display: flex;\n    align-items: center;\n    padding: 1.5vh;\n    height:3vh;\n    gap:5px;\n    border-top: 2px solid #ccc;\n  }\n \n  input[type=\"text\"] {\n    flex: 1;\n    padding: 10px;\n    border: 1px solid #ccc;\n    border-radius: 20px;\n    font-family: sans-serif;\n    font-size: 14px;\n  }\n \n  .user-icon {\n    margin: 2px 6px;\n    align-self: flex-end;\n    \n  }\n  .user-bot-icon{\n    height: 25px;\n    width: 25px;\n    border-radius:50%;\n    object-fit:cover;\n  }\n  .empty-input {\n    border: 1px solid #e80c31;\n    color: #e80c31;\n  }\n \n  /* Additional style for the \"Enter Valid Query\" placeholder */\n  .empty-input::placeholder {\n    color: #e80c31;\n  }\n \n  /* Add this CSS in your stylesheets */\n  .chatbot-overlay {\n    position: fixed;\n    right: 3%;\n    bottom:  36%;\n    background-color: white;\n    z-index: 999;\n   \n  }\n \n  .send-icon{\n  font-size: 20px;\n  cursor: pointer;\n \n  }\n}\n \n@media only screen and (min-width: 400px) and (max-width: 600px) {\n\n  .circular-icon {\n    border-radius: 50%;\n    padding: 10px; /* Adjust this value as needed for the desired size */\n    transition: background-color 0.3s ease;\n  }\n \n  .chat-icon{\n    position: fixed;\n    bottom:37vh;\n    right: 3vw;\n    width: 33vw;\n    height: 5.5%;\n    border-radius: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    font-size: 3.2vw;\n    padding:0.3vw;\n    z-index: 999;\n  }\n \n   \n  .down-icon{\n    position: fixed;\n    height: 5vh;\n    width: 10vw;\n    background-color: #e80c31;\n    border-radius: 30px;\n    bottom: 37vh;\n    color:white;\n    font-size:3vh;\n    right: 4%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    z-index: 999;\n  }\n \n \n  .inner-box {\n    display: flex;\n    flex-direction: column;\n    width: 94vw;\n    /* height:600px; */\n    border: 1px solid #ccc;\n    border-radius: 10px;\n    overflow: hidden;\n    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);\n  \n    /* margin: 20px auto;  */\n  }\n \n  .chatbot-header{\n\n    height:4vh;\n  \n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 1.4vh;\n    font-weight: bold;\n  }\n \n  .header-content{\n    display: flex;\n    align-items: center;\n  }\n \n  .bot-logo{\n    height: 40px;\n     width: 40px;\n    margin-right: 10px;\n    border-radius: 50% ;\n  }\n \n  .bot-name{\n    text-align: center;\n    margin-left: 40px;\n    font-family: sans-serif;\n    font-size: 18px;\n  }\n  .close-icon{\n    cursor: pointer;\n    font-size: 24px;\n    margin-right: 10px;\n    display: flex;\n  }\n \n  .App {\n    display: flex;\n    flex-direction: column;\n    height: 39vh;\n    padding: 1vw;\n  }\n \n  .chat-container {\n    flex-grow: 1;\n    overflow: auto; /* Enable automatic scrolling */\n    min-height: 0;\n    max-height: calc(100vh - 140px); /* Adjust this value as needed */\n     /* Align messages to the top */\n  }\n \n  .message {\n    display: flex;\n    flex-direction: column;\n    margin: 5px;\n    align-items: baseline;\n \n  }\n \n  .bot-icon{\n    height: 25px;\n    width: 25px;\n    border-radius:50%;\n    object-fit:cover;\n    /* border-radius: 50% ; */\n  }\n \n  .user-message {\n  \n    align-self: flex-end;\n    padding: 8px;\n    border-radius: 10px;\n    margin-bottom: 5px;\n    font-family: sans-serif;\n    font-size: 14px;\n  }\n \n  .bot-message {\n   \n  \n    padding: 8px;\n    border-radius: 10px;\n    margin-bottom: 5px;\n    font-family: sans-serif;\n    font-size: 14px;\n    word-wrap: break-word;\n    max-width: 360px;\n    white-space: pre-line;\n  }\n \n  .feedback-icon{\n    display: flex;\n    gap: 15px;\n  }\n  /* icon.css */\n  .thumbs-up-icon ,.thumbs-down-icon{\n   \n    transform: scale(1.1);\n    transition: transform 0.3s;\n  }\n \n  .default-icon {\n   \n    transform: scale(1);\n  }\n \n  .refined-query {\n    font-style: italic;\n    font-size: 12px;\n    color: #888;\n    align-self: flex-end;\n  }\n \n  .input-container {\n    display: flex;\n    align-items: center;\n    padding: 2vh;\n    height:2vh;\n    gap:5px;\n    border-top: 2px solid #ccc;\n  }\n \n  input[type=\"text\"] {\n    flex: 1;\n    padding: 10px;\n    border: 1px solid #ccc;\n    border-radius: 20px;\n    font-family: sans-serif;\n    font-size: 14px;\n  }\n \n  .user-icon {\n    margin: 2px 6px;\n    align-self: flex-end;\n   \n  }\n  .user-bot-icon{\n    height: 25px;\n    width: 25px;\n    border-radius:50%;\n    object-fit:cover;\n  }\n  .empty-input {\n    border: 1px solid #e80c31;\n    color: #e80c31;\n  }\n \n  /* Additional style for the \"Enter Valid Query\" placeholder */\n  .empty-input::placeholder {\n    color: #e80c31;\n  }\n \n  /* Add this CSS in your stylesheets */\n  .chatbot-overlay {\n    position: fixed;\n    right: 3%;\n    bottom:  43%;\n    background-color: white;\n    z-index: 999;\n   \n  }\n \n  .send-icon{\n  font-size: 20px;\n  cursor: pointer;\n \n  }\n}\n \n \n \n@media only screen and (min-width:601px){\n\n  .circular-icon {\n    border-radius: 50%;\n    padding: 10px; /* Adjust this value as needed for the desired size */\n    transition: background-color 0.3s ease;\n  }\n  \n  .chat-icon{\n    position: fixed;\n    bottom:2%;\n    right: 2%;\n    width: 17vw;\n    height: 5.5%;\n    border-radius: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    font-size: 1vw;\n    padding:0.1vw;\n    z-index: 999;\n  }\n \n   \n  .down-icon{\n    position: fixed;\n    height: 6%;\n    width: 3%;\n    background-color: #e80c31;\n    border-radius: 20px;\n \n    bottom: 2px;\n    color:white;\n    font-size:3vh;\n    right: 4%;\n \n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n  }\n \n \n  .inner-box {\n    display: flex;\n    flex-direction: column;\n    width: 34vw;\n    height: 89vh;\n    border: 1px solid #ccc;\n    border-radius: 10px;\n    overflow: hidden;\n    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);\n \n    /* margin: 20px auto;  */\n  }\n \n  .chatbot-header{\n\n    height:7vh;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 1.4vh;\n    font-weight: bold;\n  }\n \n  .header-content{\n    display: flex;\n    align-items: center;\n  }\n \n  .bot-logo{\n    height: 40px;\n    width: 40px;\n    margin-right: 10px;\n    border-radius: 50% ;\n  }\n \n  .bot-name{\n    margin-left: 40px;\n    text-align: center;\n    font-family: sans-serif;\n    font-size: 18px;\n  }\n  .close-icon{\n    cursor: pointer;\n    font-size: 24px;\n    margin-right: 10px;\n    display: flex;\n  }\n \n  .App {\n    display: flex;\n    flex-direction: column;\n    height: 73%;\n    padding: 1vw;\n  }\n \n  .chat-container {\n    flex-grow: 1;\n    overflow: auto; /* Enable automatic scrolling */\n    min-height: 0;\n    max-height: calc(100vh - 140px); /* Adjust this value as needed */\n     /* Align messages to the top */\n  }\n \n  .message {\n    display: flex;\n    flex-direction: column;\n    margin: 5px;\n    align-items: baseline;\n  }\n \n  .bot-icon{\n    height: 25px;\n    width: 25px;\n    border-radius:50%;\n    object-fit:cover;\n    /* border-radius: 50% ; */\n  }\n \n  .user-message {\n\n    align-self: flex-end;\n    padding: 8px;\n    border-radius: 10px;\n    margin-bottom: 5px;\n    font-family: sans-serif;\n    font-size: 14px;\n  }\n \n  .bot-message {\n   \n  \n    padding: 8px;\n    border-radius: 10px;\n    margin-bottom: 5px;\n    font-family: sans-serif;\n    font-size: 14px;\n    word-wrap: break-word;\n    max-width: 360px;\n    white-space: pre-line;\n  }\n \n  .feedback-icon{\n    display: flex;\n    gap: 15px;\n  }\n  /* icon.css */\n  .thumbs-up-icon ,.thumbs-down-icon{\n    \n    transform: scale(1.1);\n    transition: transform 0.3s;\n  }\n \n  .default-icon {\n    \n    transform: scale(1);\n  }\n \n \n  .refined-query {\n    font-style: italic;\n    font-size: 12px;\n    color: #888;\n    align-self: flex-end;\n  }\n \n  .input-container {\n    display: flex;\n    align-items: center;\n    padding: 2vh;\n    height:5vh;\n    gap:5px;\n    border-top: 2px solid #ccc;\n  }\n \n  input[type=\"text\"] {\n    flex: 1;\n    padding: 10px;\n    border: 1px solid #ccc;\n    border-radius: 20px;\n    font-family: sans-serif;\n    font-size: 14px;\n  }\n   \n  .user-icon {\n    margin: 2px 6px;\n    align-self: flex-end;\n   \n  }\n  .user-bot-icon{\n    height: 25px;\n    width: 25px;\n    border-radius:50%;\n    object-fit:cover;\n  }\n  .empty-input {\n    border: 1px solid #e80c31;\n    color: #e80c31;\n  }\n \n  /* Additional style for the \"Enter Valid Query\" placeholder */\n  .empty-input::placeholder {\n    color: #e80c31;\n  }\n \n  /* Add this CSS in your stylesheets */\n  .chatbot-overlay {\n    position: fixed;\n    right: 4%;\n    bottom:  7%;\n    background-color: white;\n    z-index: 999;\n   \n  }\n \n  .send-icon{\n  font-size: 20px;\n  cursor: pointer;\n  \n  }\n}\n \n ","import { Component, h, State, Element,Prop } from '@stencil/core';\nimport { Config } from '../../config';\n \n@Component({\n  tag: 'smart-assistant',\n  styleUrl: 'smart-assistant.css',\n  shadow: true,\n})\nexport class SmartAssistant\n  {\n   @Prop({ reflect: true, mutable: true }) page: string = 'none';\n \n@State() isChatbotVisible = false;\n@State() query = '';\n// @State() feedback = '';\n@State() feedback: string[] = [];\n@State() chatHistory = [];\n@State() refinedQuery = '';\n@State() refinedQueryHidden = true;\n@State() isLoading = false;\n@State() showEmptyQueryMessage = false;\n@State() currentResponseIndex = -1;\n@State() isProblem = false;\n@State() selectedFeedback = [];\n@State() feedbackSubmitted = [];\n@State() errorMessage = '';\n@State() session_id = null;\n@State() starttime = null;\n@State() showSource = true;\n@State() sourceSet: Array<any> = [];\n@State() currentQuestionIndex = -1;\n\n@Element() element: HTMLElement;\n\n@State() chat_secretkey: string;\n\n  componentWillLoad() {\n    // Set initial value for chat_secretkey\n    this.chat_secretkey = Config.chatSecretKey;\n  }\n\n\n\nscrollToBottom = () => {\n  const chatContainer = this.element.shadowRoot.querySelector('.chat-container');\n  if (chatContainer) {\n    chatContainer.scrollTop = chatContainer.scrollHeight;\n  }\n};\n\n\nasync getToken() {\n  try {\n    const response = await fetch(Config.tokenUrl, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    });\n\n    if (response.ok) {\n      const data = await response.json();\n      const token = data.token;\n      localStorage.setItem('Local_Session_Key', token);\n      this.session_id = data.session_id;\n      this.starttime = data.session_start_time;\n    } else {\n      const errorData = await response.json();\n      console.error(`Failed to fetch token: ${response.statusText}`, errorData);\n      if (response.status === 401) {\n        console.error('Unauthorized: You may not have the required permissions.');\n      } else if (response.status === 404) {\n        console.error('Resource not found: The endpoint does not exist.');\n      } else {\n        console.error('Unknown error occurred.');\n      }\n    }\n  } catch (error) {\n    if (error.name === 'AbortError') {\n      console.error('Request aborted: Timeout or user interruption.');\n    } else {\n      console.error('Network error:', error.message);\n    }\n  }\n}\n\nhandleRefreshSession = () => {\n  this.chatHistory = [];\n  this.query = '';\n  this.isChatbotVisible = !this.isChatbotVisible;\n};\n\nhandleChatClick = () => {\n  this.getToken();\n  this.isChatbotVisible = !this.isChatbotVisible;\n};\n\nasync handleQuerySubmit() {\n  try {\n    if (this.query.trim() === '') {\n      this.showEmptyQueryMessage = true;\n      return;\n    }\n    // Save the current query before sending the request\n    const currentQuery = this.query;\n    // Clear the query in the UI immediately after submitting\n    this.query = '';\n\n    this.errorMessage = null;\n    this.showEmptyQueryMessage = false;\n    const newChatHistory = [\n      ...this.chatHistory,\n      { user: currentQuery },\n    ];\n\n    this.chatHistory = newChatHistory;\n\n    this.isLoading = true;\n    this.currentResponseIndex = newChatHistory.length - 1;\n\n    this.page = location.href.split('/')[3]\n\n   \n\n   \n    const response = await fetch(Config.responseUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*',\n        'Authorization': `Bearer ${localStorage.getItem(\"Local_Session_Key\")}`,\n        'chatSecretKey':this.chat_secretkey\n\n      },\n      body: JSON.stringify({\n        query: currentQuery,\n        session_id: this.session_id,\n        session_start_time: this.starttime,\n        page: this.page,\n       \n      })\n    });\n\n\n    if (!response.ok) {\n      if (response.status === 401) {\n        this.isLoading = false;\n        this.errorMessage = 'Your session is timed out. Please close the chat and log in again.';\n        return;\n      }\n      const errorData = await response.json();\n      console.error('Failed to get a response:', errorData);\n      this.isLoading = false;\n      this.errorMessage = 'Failed to get a response. Please try again.';\n      return;\n    }\n\n    const data = await response.json();\n\n    const originalResponse = data.response;\n    const containsBrackets = /\\(|\\)|\\[|\\]/.test(originalResponse);\n    let cleanedResponse = originalResponse;\n    if (containsBrackets) {\n      cleanedResponse = cleanedResponse.replace(/\\(|\\)/g, ' ').replace(/\\[|\\]/g, ' ');\n    }\n\n    // ... Logic for converting URLs to links\n    function convertUrlsToLinks(text) {\n      const urlRegex = /(https?:\\/\\/[^\\s)\\]\"\\,]+|www\\.[^\\s)\\]\"\\,]+)/g;\n\n      const parts = text.split(urlRegex);\n      return parts.map((part, index) => {\n        if (urlRegex.test(part)) {\n          if (part.startsWith('https://www.')) {\n            // Preserve URLs that start with \"https://www.\"\n            return (\n              <a key={index} href={part} target=\"_blank\" rel=\"noopener noreferrer\">\n                {part}\n              </a>\n            );\n          } else {\n            // Check if the URL starts with \"www.\" and add \"http://\" if it doesn't start with a protocol\n            if (/^www\\./.test(part)) {\n              part = `http://${part}`;\n            } else if (!part.startsWith('http://') && !part.startsWith('https://')) {\n              // If the URL doesn't start with a protocol, assume it's \"http://\"\n              part = `http://${part}`;\n            }\n\n            // Remove a trailing period (\".\") if present\n            part = part.replace(/\\.$/, '');\n\n            return (\n              <a key={index} href={part} target=\"_blank\" rel=\"noopener noreferrer\">\n                {part}\n              </a>\n            );\n          }\n        } else {\n          return part;\n        }\n      });\n    }\n\n    //const botResponse = convertUrlsToLinks(cleanedResponse);\n    const botResponse = originalResponse\n    newChatHistory[newChatHistory.length - 1].bot = botResponse;\n    newChatHistory[newChatHistory.length - 1].row_id = data.row_id;\n    this.chatHistory = newChatHistory;\n\n    this.isLoading = false;\n    this.isProblem = data.isProblem;\n    this.sourceSet = data.source_set;\n\n    if (data.refinedQuery) {\n      this.refinedQuery = data.refinedQuery;\n    }\n  } catch (error) {\n    console.error('Network error:', error);\n    this.isLoading = false;\n    this.errorMessage = 'Network error. Please check your connection and try again.';\n  }\n  this.feedback = [];\n  this.feedbackSubmitted = [];\n  const lastIndex = this.chatHistory.length - 2;\n  console.log(\"last indexxx===\", lastIndex)\n\n\n  // Save feedback if available\n  if (this.selectedFeedback[lastIndex] !== null) {\n    this.saveFeedbackToDatabase(lastIndex, this.selectedFeedback[lastIndex]);\n  }\n\n}\nasync saveFeedbackToDatabase(index: number, feedbackLabel: string) {\n  try {\n    const response = await fetch(Config.feedbackUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      },\n      body: JSON.stringify({\n        session_id: this.session_id,\n        question: this.chatHistory[index].user,\n        answer: this.chatHistory[index].bot,\n        feedback: feedbackLabel,\n      }),\n    });\n\n    if (response.ok) {\n      console.log('Feedback saved successfully');\n      const newFeedbackSubmitted = [...this.feedbackSubmitted];\n      newFeedbackSubmitted[index] = true;\n      this.feedbackSubmitted = newFeedbackSubmitted;\n    } else {\n      const errorData = await response.json();\n      console.error('Failed to save feedback:', errorData);\n    }\n  } catch (error) {\n    console.error('Network error:', error);\n  }\n}\n\nasync handleFeedback(index, isPositive) {\n  try {\n    let feedbackLabel = '';\n\n    if (isPositive === true) {\n      this.chatHistory[index].isThumbsUpClicked = !this.chatHistory[index].isThumbsUpClicked;\n      if (this.chatHistory[index].isThumbsUpClicked) {\n        this.chatHistory[index].isThumbsDownClicked = false;\n      }\n      feedbackLabel = 'GOOD';\n    } else if (isPositive === false) {\n      this.chatHistory[index].isThumbsDownClicked = !this.chatHistory[index].isThumbsDownClicked;\n      if (this.chatHistory[index].isThumbsDownClicked) {\n        this.chatHistory[index].isThumbsUpClicked = false;\n      }\n      feedbackLabel = 'BAD';\n    } else {\n      feedbackLabel = 'NEUTRAL';\n    }\n\n    const newFeedback = [...this.feedback];\n    newFeedback[index] = feedbackLabel;\n    this.feedback = newFeedback;\n\n    // Keep track of selected feedback\n    const newSelectedFeedback = [...this.selectedFeedback];\n    newSelectedFeedback[index] = isPositive;\n    this.selectedFeedback = newSelectedFeedback;\n\n    // Make an API request to save feedback in the database\n    await this.saveFeedbackToDatabase(index, feedbackLabel);\n  } catch (error) {\n    console.error('An error occurred while handling feedback:', error);\n  }\n}\n\n\nhandleBotMessageClick(botMessage) {\n  const copyEvent = new CustomEvent('copyBotMessage', { detail: botMessage });\n  this.element.dispatchEvent(copyEvent);\n}\n\n\n// handleDocumentPathClick = async (event, filePath) => {\n//   event.preventDefault(); // Prevent default link behavior\n\n//   try {\n\n//     const folderPath = \"C:\\\\CISCO Fresh start\\\\Backends\\\\DEMO March 1\\\\Backend\\\\files\\\\cisco_samp_docx\\\\\";\n\n//     // const fileName = \"example_file.txt\"\n//     const file = filePath.split('\\\\').pop();\n//     const fileExtension = filePath.split('.').pop()?.toLowerCase() || '';\n//     console.log(fileExtension)\n//     if (fileExtension === 'ppt' || fileExtension === 'pptx' || fileExtension === 'xls' || fileExtension === 'xlsx' || fileExtension === 'docx') {\n//       // Construct the SharePoint URL based on the file name\n//       console.log(\"inside if\")\n//       const sharePointBaseUrl = 'https://cisco-my.sharepoint.com/:f:/r/personal/varshav_cisco_com/Documents/Shared_Cisco_Files/';\n\n//       const sharePointURL = `${sharePointBaseUrl}/${file}`;\n//       console.log(sharePointURL)\n//       // Redirect the user to the SharePoint URL\n//       window.open(sharePointURL, '_blank');\n//     }\n//     else {\n\n//       const fullPath = folderPath.concat(filePath);\n//       console.log(fullPath)\n//       const response = await fetch(Config.getFileUrl, {\n//         method: 'POST',\n//         headers: {\n//           'Content-Type': 'application/json',\n//         },\n//         body: JSON.stringify({\n//           filePath: fullPath,\n//           // Include any additional data you need to send to the backend\n//         }),\n//       });\n\n//       if (response.ok) {\n//         const fileBlob = await response.blob();\n//         console.log(filePath)\n//         const fileUrl = URL.createObjectURL(fileBlob);\n//         window.open(fileUrl, '_blank');\n//         // Handle success response from the backend\n//       } else {\n//         console.error('Error handling document path click');\n//       }\n\n//     }\n//   }\n//   catch (error) {\n//     console.error('Error handling document path click:', error);\n//     // Handle network errors or other exceptions\n//   }\n// };\n\ntoggleRefinedQueryVisibility = () => {\n  if (!this.refinedQueryHidden || this.refinedQuery !== 'Invalid input, try again') {\n    this.refinedQueryHidden = !this.refinedQueryHidden;\n  }\n};\n\ntoggleShowSource = () => {\n  this.showSource = !this.showSource;\n};\n\n\nhandleKeyPress = (event: KeyboardEvent) => {\n  if (event.key === 'Enter') {\n    this.handleQuerySubmit();\n  }\n};\n\n\n// for autofocus in input text field and scroll to bottom\n\ninputRef: HTMLInputElement;\n\ncomponentDidUpdate() {\n  if (this.isChatbotVisible && this.inputRef) {\n    this.inputRef.focus();\n  }\n  this.scrollToBottom();\n}\n\n\nrender() {\n  return (\n    <div>\n      {!this.isChatbotVisible && (\n        <div class=\"chat-icon\" onClick={this.handleChatClick} style={{ backgroundColor: Config.chatIconBg, color: Config.chatIconColor }}>\n          <i class={Config.chatIcon} style={{ marginRight: '5px', fontSize: '20px' }}></i> {Config.chatBotName}\n        </div>\n\n      )}\n\n\n      {this.isChatbotVisible && (\n        <div class=\"chatbot-overlay\">\n          <div class=\"inner-box\" style={{ backgroundColor: Config.innerBoxColor }}>\n            <div class=\"chatbot-header\" style={{ backgroundColor: Config.headerBgColor, color: Config.headerTextColor }}>\n              <div class=\"header-content\">\n                <img class=\"bot-logo\" src={Config.headerLogo} alt=\"Avatar\" />\n                <div class=\"bot-name\" >\n                  {Config.headerText}\n                </div>\n                <div class=\"close\" onClick={this.handleRefreshSession} style={{ marginLeft: '140px' }}>\n\n                  <i class=\"fas fa-times\" style={{ color: Config.closeIconColor }}></i>\n                </div>\n\n              </div>\n\n            </div>\n            <div class=\"App\">\n              <div class=\"chat-container\" >\n                <div class=\"message\">\n\n                  <div >\n                    <img class=\"bot-icon\" src={Config.botLogo} alt=\"Logo\" />\n                  </div>\n                  <div class=\"bot-message\" style={{ backgroundColor: Config.botBgColor, color: Config.botTextColor }}>{Config.botText}</div>\n\n                </div>\n\n                {this.chatHistory.map((message, index) => (\n\n                  <div class=\"message\" key={index}>\n                    {message.user && (\n                      <div class=\"user-icon\" >\n                        {/* <i class={Config.userLogo}></i> */}\n                        <img class=\"user-bot-icon\" src={Config.userLogo} alt=\"Logo\" />\n                      </div>\n\n                    )}\n                    <div class={`user-message ${message.user ? 'user-message-align-end' : ''}`} style={{ backgroundColor: Config.userMsgBgColor, color: Config.userMsgColor }}>{message.user}</div>\n                    <div >\n\n                      <img class=\"bot-icon\" src={Config.botLogo} alt=\"Logo\" />\n                    </div>\n\n                    <div class=\"bot-message\" style={{ backgroundColor: Config.botBgColor, color: Config.botTextColor }}>\n\n                      {this.isLoading && index === this.chatHistory.length - 1 ? (\n                        <i class=\"fas fa-spinner fa-spin\"></i>\n                      ) : (<div>{this.errorMessage}</div>)}\n\n                      {message.bot}\n                      {/* {this.scrollToBottom()} */}\n\n\n                    </div>\n                    <div class=\"refined-query\">\n                      {index === this.chatHistory.length - 1 && message.bot && message.bot !== 'Invalid Input, Try Again.' && (\n                        <div>\n                          {Config.showRefinedQuery && (\n                            <div>\n                          {this.refinedQueryHidden ? (\n                            <i\n                              class=\"far fa-eye\"\n                              onClick={this.toggleRefinedQueryVisibility}\n                            style={{color:Config.refinedQueryColor}}></i>\n                          ) : (\n                            <i\n                              class=\"far fa-eye-slash\"\n                              onClick={this.toggleRefinedQueryVisibility}\n                              style={{color:Config.refinedQueryColor}}></i>\n                          )}\n                          </div>\n                          )}\n                          {Config.showSource && (\n                            <div>\n                          {this.showSource ? (\n                            <i\n                              class=\"fas fa-link\"\n                              onClick={this.toggleShowSource}\n                              style={{color:Config.sourceColor}} ></i>\n                          ) : (\n                            <i\n                              class=\"far fa-eye-slash\"\n                              onClick={this.toggleShowSource}\n                              style={{color:Config.sourceColor}}></i>\n                          )\n                          }\n                          </div>\n                          )}\n                          {!this.refinedQueryHidden &&  (\n                            <span class=\"hidden-query\"style={{color:Config.refinedQueryColor}}>{this.refinedQuery}</span>\n                          )}\n                          <span class=\"hidden-query\">\n                            {!this.showSource &&  (\n                              this.sourceSet.map((path, index) => (\n                                <span key={index} style={{color:Config.sourceColor}}>\n                                  <a href=\"#\"  style={{ textDecoration: 'none',color:Config.sourceColor }}>{path}</a>\n                                  {index < this.sourceSet.length - 1 && ','}\n                                </span>\n                              ))\n                            )}\n                          </span>\n                        </div>\n                      )}\n                    </div>\n                   \n                    <div key={index}>\n{message.bot && !this.feedbackSubmitted[index] && index === this.chatHistory.length - 1 && (\n  <div class=\"feedback-icon\">\n   \n    <div>\n    {Config.showFeedback && (\n      <span class=\"thumbs-up\" onClick={() => this.handleFeedback(index, true)} style={{ cursor: 'pointer', color:  Config.feedbackColor }}>\n        <i class={`fas fa-thumbs-up ${message.isThumbsUpClicked ? 'thumbs-up-icon' : 'default-icon'}`}></i>\n      </span>\n    )}\n    </div>\n    {Config.showFeedback && (\n    <span class=\"thumbs-down\" onClick={() => this.handleFeedback(index, false)} style={{ cursor: 'pointer', color: Config.feedbackColor }}>\n      <i class={`fas fa-thumbs-down ${message.isThumbsDownClicked ? 'thumbs-down-icon' : 'default-icon'}`}></i>\n    </span>\n    )}\n  </div>\n)}\n</div>\n\n                  </div>\n                ))}\n\n              </div>\n            </div>\n            <div class=\"input-container\" >\n              <input\n                ref={(el) => (this.inputRef = el as HTMLInputElement)}\n                type=\"text\"\n                onKeyPress={(event: KeyboardEvent) => this.handleKeyPress(event)}\n                value={this.query}\n                placeholder={this.showEmptyQueryMessage ? 'ENTER VALID QUERY!!!' : 'Filing Questions ?'}\n                onInput={(event) => {\n                  this.query = (event.target as HTMLInputElement).value;\n                  this.showEmptyQueryMessage = false;\n                }}\n                class={this.showEmptyQueryMessage ? 'empty-input' : ''}\n                maxLength={200}\n              />\n\n              <span class=\"send-icon\" onClick={this.handleQuerySubmit.bind(this)} style={{ color: Config.sendSymbolColor }}>\n                <i class=\"fas fa-paper-plane circular-icon\" style={{ backgroundColor: Config.sendBgColor, borderRadius: '50%' }}></i>\n\n              </span>\n\n            </div>\n          </div>\n        </div>\n      )}\n\n    </div>\n  );\n}\n\n}\n"],"version":3}